#include <array>

#include "Grid.hpp"

int pointAt(int x, int y){ return x + (y * 12); }

std::array<char, 260> _grid = {
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '|', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '|',
       '_', '_', '_', '_', '_', '_', '_', '_', '_', '_', '_', '_',
    };

char Grid::at(int x, int y)
{
    return _grid[pointAt(x, y)];
}

char Grid::at(Point point)
{
    return _grid[pointAt(point.getX(), point.getY())];
}

void Grid::set(int x, int y, char newElement)
{
    _grid[pointAt(x, y)] = newElement;
}

void Grid::set(Point point, char newElement)
{
    _grid[pointAt(point.getX(), point.getY())] = newElement;
}

void Grid::clear()
{
    for (auto &_element : _grid){
        _element = '#';
    }
}
